<!-- 订单列表组件 -->
<div class="order-list-comp">

    <el-row style="margin-bottom: 10px">
        <el-col :span='24'>

            <el-button type="primary" icon="el-icon-plus" size='small' @click='add()' v-if='getShowItem("add")'>新增</el-button>
            <el-button type="danger" icon="el-icon-delete" size='small' @click='batchDeleting()' v-if='getShowItem("dels")'>删除选中</el-button>
            <el-button type="primary" icon="el-icon-refresh" size='small' @click='refresh();tool.isRefreshLoading=true;' :loading="tool.isRefreshLoading">刷新表格</el-button>

            <div class="float-right">
                <el-input placeholder="搜索……" size='small' v-model="conf.table.key" clearable v-on:keyup.enter.native='search();'>
                    <el-button slot="append" type="primary" icon="el-icon-search" size='small' @click='search()' :loading="tool.isSearchLoading">搜索</el-button>
                </el-input>
            </div>

        </el-col>
    </el-row>


    <table-comp ref='table' :conf.sync='conf'>


        <el-table-column type='selection' v-if='getShowItem("select")'></el-table-column>
        <el-table-column prop="order_id" width='auto' label="订单号"></el-table-column>
        <el-table-column prop="user_id" width='auto' label="用户ID"></el-table-column>
        <el-table-column prop="state" width='auto' label="订单状态" :filters="stateListValidate" :filter-method="filterTag">

            <template slot-scope="scope">
                <el-tag :type='getState(scope.row).type'>{{getState(scope.row).text}}</el-tag>
            </template>

        </el-table-column>
        <el-table-column prop="add_time" width='auto' label="创建时间"></el-table-column>
        <el-table-column prop="edit_time" width='auto' label="最后修改时间"></el-table-column>


        <el-table-column label="操作" width='180' fixed='right' v-if='getShowItem("tool")' align='center'>
            <template slot-scope="scope">
                <el-button size="mini" @click="show(scope.$index, scope.row)">查看</el-button>
                <el-button size="mini" :key='$getRand()' type="danger" @click.stop="del(scope.$index, scope.row)">删除</el-button>
            </template>
        </el-table-column>

    </table-comp>


</div>